<div>
  <div class="navbar chat__navbar">
    <button class="btn btn-xs btn-info chat__form__prev-button"
            ng-disabled="!newMess"
            ng-click="togglePreviewMessage()"
    >
      {{preview ? "Hide" : "Show"}} Preview
    </button>

    <span ng-click="changeVolume()" class="chat__navbar-sound">
      <span ng-show="volume === 1" class="glyphicon glyphicon-volume-up"></span>
      <span ng-show="volume === 0" class="glyphicon glyphicon-volume-down"></span>
      <span ng-show="volume === -1" class="glyphicon glyphicon-volume-off"></span>
    </span>
  </div>
  <form ng-submit="submit()" 
        class="form-group chat__form"
        name="newMessForm" 
        ng-disabled="newMessForm.$invalid"
  >
    <input type="text" 
            class="form-control"
            ng-model="username" 
            placeholder="Username"
            ng-maxlength="nameMaxLength"
            required
    />

    <textarea type="text" 
            class="form-control"
            ng-model="newMess" 
            placeholder="Chat !" 
            ng-maxlength="maxLength" 
            required 
    >
    </textarea>

    <div class="chat__form__sub">
      <button type="submit"
              class="btn btn-success chat__form__sub-button" 
              ng-disabled="newMessForm.$invalid"
      >
        Submit
      </button>
    </div>

    <div id="preview" ng-if="newMess && preview">
      <h3>Preview</h3>
      <div ng-bind-html="newMess | messagePreview">
      </div>
    </div>
  </form>

  <div id="chatBox" class="well">
    <mess-table data="messages"></mess-table>
  </div>
  <chat-sound src-sound="srcSound"></chat-sound>
</div>